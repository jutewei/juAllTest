(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{VXio:function(t,e,i){"use strict";e.__esModule=!0;var n,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i("mrSG")),r=i("YKMj"),c=i("BXJC"),a=i("X8Hg"),s=i("iFk+"),l=(n=i("lqyy"))&&n.__esModule?n:{default:n},u=i("Q+em"),d=i("AFph"),f=i("lzrX"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fetched=!1,e.loginProtected=!1,e.crediblePhoneCount=0,e.credibleDeviceCount=0,e}return o.__extends(e,t),Object.defineProperty(e.prototype,"phoneCountText",{get:function(){return this.crediblePhoneCount>0?this.tr("text.phoneCountText").replace("{num}",this.crediblePhoneCount):this.tr("button.bindImmediately","binding")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deviceCountText",{get:function(){return this.credibleDeviceCount>0?this.tr("text.deviceCountText").replace("{num}",this.credibleDeviceCount):this.$tr.text.nothing},enumerable:!0,configurable:!0}),e.prototype.created=function(){this.getSafetyInfo()},e.prototype.getSafetyInfo=function(){var t=this;if(this._temp.protectSafetyInfo){var e=this._temp.protectSafetyInfo;this.crediblePhoneCount=e.credible_phone_count,this.credibleDeviceCount=e.credible_device_count,this.loginProtected=e.login_protected,this.fetched=!0}else this.$toast.showLoading();this.$api.safety.safetyInfo().then(function(e){var i=e.data.response;t.setTempData({protectSafetyInfo:i}),t.crediblePhoneCount=i.credible_phone_count,t.credibleDeviceCount=i.credible_device_count,t.loginProtected=i.login_protected,t.fetched=!0,t.$toast.hide()}).catch(function(e){t.$toast.hide(),t.$router.go(-1)})},e.prototype.linkTo=function(t){var e="";if("phone"===t){if(!(this.crediblePhoneCount>0))return this.bindPhone(),!1;e=f.ROUTE_ACCOUNT_PROTECT_CREDIBLE_PHONE}"device"===t&&this.credibleDeviceCount>0&&(e=f.ROUTE_CREDIBILITY_DEVICE),"privacy"===t&&(e=f.ROUTE_PRIVACY_SETTING),this.$router.push(e)},e.prototype.changeProtectStatus=function(){var t=this,e=this;if(this.setTempData({openAccountProtect:!e.loginProtected}),e.loginProtected)e.$dialog.confirm({title:e.tr("text.closeProtectTitle"),content:e.tr("text.closeProtectText"),buttons:[{text:e.$tr.text.enter,type:"primary",click:function(){e.$toast.showLoading(),e.setSafetyActionCode(d.SAFETY_OP_TYPE_ACCOUNT_PROTECT_CLOSE),e._safetySetLoginProtected({status:0},{onSafetyVerifyError:function(){e.$toast.hide()}}).then(e.getSafetyInfo).catch(function(i){e.$toast.show(i.data&&i.data.meta?i.data.meta.msg:t.tr("tips.ajaxError","binding"))})}},{text:e.$tr.text.cancel}]});else{if(e.crediblePhoneCount>0)return e.$router.push(f.ROUTE_PROTECT_CONFIRM_PHONE),!1;e.$dialog.confirm({content:e.tr("text.goBindText","accountProtect"),buttons:[{text:e.tr("button.bindImmediately","binding"),type:"primary",click:function(){e.bindPhone()}},{text:e.$tr.text.cancel}]})}},e.prototype.bindPhone=function(){var t=this;t.$isApp&&(0,u.openBindPhonePage)({from:"account",allow_assoc:t._getAppClientConfigs("binding_phone_allow_assoc")?1:0},function(){t.getSafetyInfo()})},o.__decorate([(0,r.Component)({data:function(){return{$trPage:"accountProtect"}},components:{List:c.List,ListItem:c.ListItem,MtSwitch:a.MtSwitch,Page:s.Page}})],e)}((0,r.Mixins)(l.default));e.default=p},aiA2:function(t,e,i){"use strict";var n=i("kILA");i.n(n).a},bWp2:function(t,e,i){"use strict";i.r(e);var n=i("VXio"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=o.a},"e/Wr":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page",{staticClass:"page-protect page-account-protect",attrs:{"bg-color":!0}},[i("title-bar"),t._v(" "),t.fetched?i("page-view",[i("page-title",{attrs:{title:t.tr("title")}}),t._v(" "),i("list",[i("list-item",{attrs:{title:t.tr("title")}},[i("mt-switch",{attrs:{slot:"offside",checked:t.loginProtected},on:{click:t.changeProtectStatus},slot:"offside"})],1)],1),t._v(" "),i("div",{staticClass:"Tips interval",domProps:{textContent:t._s(t.tr("text.confirmPhoneText"))}}),t._v(" "),i("list",[i("list-item",{attrs:{title:t.tr("titleOfCrediblePhone"),text:t.phoneCountText,arrow:"true"},on:{click:function(e){t.linkTo("phone")}}})],1),t._v(" "),i("div",{staticClass:"Tips interval",domProps:{textContent:t._s(t.tr("text.credibleDeviceText"))}}),t._v(" "),i("list",[i("list-item",{attrs:{title:t.tr("titleOfCredibleDevice"),text:t.deviceCountText,arrow:this.credibleDeviceCount>0},on:{click:function(e){t.linkTo("device")}}})],1),t._v(" "),i("div",{staticClass:"Tips interval"}),t._v(" "),t._isEU&&t.$isApp?i("list",[i("list-item",{attrs:{title:t.tr("title","privacySetting"),arrow:"true"},on:{click:function(e){t.linkTo("privacy")}}})],1):t._e()],1):t._e()],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},kILA:function(t,e){},tUNd:function(t,e,i){"use strict";i.r(e);var n=i("e/Wr"),o=i("bWp2");for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i("aiA2");var c=i("KHd+"),a=Object(c.a)(o.default,n.a,n.b,!1,null,null,null);a.options.__file="protect.vue",e.default=a.exports}}]);