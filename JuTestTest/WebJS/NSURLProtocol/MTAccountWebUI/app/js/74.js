(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{zaIy:function(e,t,a){"use strict";t.__esModule=!0;var n=s(a("Xpvn")),o=s(a("yAhS")),i=s(a("FS2Y")),r=s(a("y6pg"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=setTimeout(function(){clearTimeout(e),function(){var e=n.default.state.appInitConfigs,t=e.name,a=n.default.state.clientInfo,s=parseInt(e.env,10);2===s&&(s=1);var u=1===s?"http":"https";/Android/i.test(navigator.userAgent)&&1===parseInt(e.platform,10)&&(e.platform=2);var d={t:"",key:t,istest:s,version:e.version,platform:e.platform,appVersion:e.appVersion,sdk_version:a.sdk_version,disable_refresh:1,client_id:a.client_id||""};0!==s&&(d.t=(new Date).getTime().toString()),o.default.request({method:"get",url:u+"://api.data.meitu.com/update/h5_zip",cacheKey:"",showError:!1,showLoading:!1,notAccessToken:!0,notUnloginToken:!0,notCommonParams:!0,params:d}).then(function(a){if(void 0===a.data)return!1;var n=a.data,o=n.data;if(!(0===parseInt(n.code,10)&&parseFloat(o.version)>e.version))return!1;i.default.$emit("app.updating",{disableRefresh:!0});var s=setTimeout(function(){clearTimeout(s);var e={module:t,url:o.url,disableRefresh:!0};(0,r.default)("downloadmodule",e,function(){i.default.$emit("app.updating.done",{disableRefresh:!0})})},0)}).catch(function(e){})}()},0)}}}]);