(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"0GPA":function(t,e,s){"use strict";e.__esModule=!0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}(s("mrSG")),r=s("YKMj"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e}return a.__extends(e,t),e.prototype.watchPassword=function(t,e){if(!t)return this.level=0;t.length>=6?/^[A-Za-z]+$/.test(t)||/^\d+$/.test(t)||/^[\W_]+$/.test(t)?this.level=1:(/[A-Za-z]+/g.test(t)&&/\d+/g.test(t)||/[A-Za-z]+/g.test(t)&&/[\W_]+/g.test(t)||/[0-9]+/g.test(t)&&/[\W_]+/g.test(t))&&(this.level=2,/[A-Za-z]+/g.test(t)&&/\d+/g.test(t)&&/[\W_]+/g.test(t)&&(this.level=3)):this.level=0,/\s+/g.test(t)?this.level=4:/^[A-Za-z0-9!@#\$%\^&\*\~\/{}|\(\)\'\\"\?\>\<,\.`+\-=_\[\]:;*\/]+$/g.test(t)||(this.level=5)},Object.defineProperty(e.prototype,"levelTexts",{get:function(){return this.$lang&&this.$lang.page?this.$lang.page.password.texts.passwordLevels:[]},enumerable:!0,configurable:!0}),a.__decorate([(0,r.Prop)([String]),a.__metadata("design:type",String)],e.prototype,"value",void 0),a.__decorate([(0,r.Watch)("value",{immediate:!0}),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object,Object]),a.__metadata("design:returntype",void 0)],e.prototype,"watchPassword",null),a.__decorate([r.Component],e)}(r.Vue);e.default=o},"1SUJ":function(t,e,s){"use strict";e.__esModule=!0;var a,r=(a=s("Kg7Q"))&&a.__esModule?a:{default:a};e.default=r.default},"9N56":function(t,e){},BwAu:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-tips"},[0===t.value.length||0===t.level?s("span",{staticClass:"text",domProps:{textContent:t._s(t.$lang.page.password.texts.firstTips)}}):s("span",{staticClass:"primary"},[t._v(t._s(t.levelTexts[t.level]))])])},r=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return r})},Ir7D:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"View password-setting"},[s("input-group",[s("mt-input",{ref:"input",attrs:{type:"password",placeholder:t.placeholder||t.tr("placeholder.password","register"),minlength:t.minLength,maxlength:t.maxLength,clear:"",show:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),t.showLevel?s("password-level",{attrs:{value:t.password}}):t._e(),t._v(" "),t._t("append"),t._v(" "),s("mt-button",{attrs:{type:"primary",disabled:t.submitButtonDisabled},domProps:{textContent:t._s(t.submitButtonText)},on:{click:t.submit}}),t._v(" "),t._t("default")],2)},r=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return r})},Kg7Q:function(t,e,s){"use strict";s.r(e);var a=s("BwAu"),r=s("Qzz4");for(var o in r)"default"!==o&&function(t){s.d(e,t,function(){return r[t]})}(o);var n=s("KHd+"),i=Object(n.a)(r.default,a.a,a.b,!1,null,null,null);i.options.__file="level.vue",e.default=i.exports},Lt2X:function(t,e,s){"use strict";s.r(e);var a=s("ZGAf"),r=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);e.default=r.a},Qzz4:function(t,e,s){"use strict";s.r(e);var a=s("0GPA"),r=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);e.default=r.a},ZGAf:function(t,e,s){"use strict";e.__esModule=!0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}(s("mrSG")),r=p(s("J+9/")),o=p(s("1SUJ")),n=s("X8Hg"),i=s("YKMj");function p(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.password="",e}return a.__extends(e,t),Object.defineProperty(e.prototype,"submitButtonText",{get:function(){return this.buttonText||this.$tr.text.submit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"submitButtonDisabled",{get:function(){return this.password.trim().length<6||this.buttonDisabled},enumerable:!0,configurable:!0}),e.prototype.watchPassword=function(){this.$emit("input",this.password)},e.prototype.validatePassword=function(){return this.password=this.password.trim(),!(this.validate&&(!this.password||this.password.length<6||this.password.length>16?(this.$toast.show(this.tr("tips.passwordEmptyOrError","password")),1):(/\s+/g.test(this.password)||!/^[A-Za-z0-9!@#\$%\^&\*\~\/{}|\(\)\'\\"\?\>\<,\.`+\-=_\[\]*:;\/]+$/g.test(this.password))&&(this.$toast.show(this.tr("tips.passwordError","password")),1)))},e.prototype.submit=function(){this.validatePassword()&&this.$emit("submit")},a.__decorate([(0,i.Prop)({type:[String,Number],default:6}),a.__metadata("design:type",Object)],e.prototype,"minLength",void 0),a.__decorate([(0,i.Prop)({type:[String,Number],default:16}),a.__metadata("design:type",Object)],e.prototype,"maxLength",void 0),a.__decorate([(0,i.Prop)({type:[String],default:""}),a.__metadata("design:type",String)],e.prototype,"placeholder",void 0),a.__decorate([(0,i.Prop)({type:[Boolean],default:!0}),a.__metadata("design:type",Boolean)],e.prototype,"showLevel",void 0),a.__decorate([(0,i.Prop)({type:[String],default:""}),a.__metadata("design:type",String)],e.prototype,"buttonText",void 0),a.__decorate([(0,i.Prop)({type:[Boolean],default:!1}),a.__metadata("design:type",Boolean)],e.prototype,"buttonDisabled",void 0),a.__decorate([(0,i.Prop)({type:[Boolean],default:!0}),a.__metadata("design:type",Boolean)],e.prototype,"validate",void 0),a.__decorate([(0,i.Watch)("password"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],e.prototype,"watchPassword",null),a.__decorate([(0,i.Component)({name:"password-setting-view",components:{MtInput:n.MtInput,MtButton:r.default,InputGroup:n.InputGroup,PasswordLevel:o.default}})],e)}((0,i.Mixins)());e.default=u},"j4R/":function(t,e,s){"use strict";s.r(e);var a=s("Ir7D"),r=s("Lt2X");for(var o in r)"default"!==o&&function(t){s.d(e,t,function(){return r[t]})}(o);s("nKMI");var n=s("KHd+"),i=Object(n.a)(r.default,a.a,a.b,!1,null,null,null);i.options.__file="password.setting.vue",e.default=i.exports},nKMI:function(t,e,s){"use strict";var a=s("9N56");s.n(a).a},vwJu:function(t,e,s){"use strict";e.__esModule=!0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}(s("mrSG")),r=s("YKMj"),o=d(s("lqyy")),n=d(s("j4R/")),i=s("KEQF"),p=s("lzrX"),u=s("uOKE");function d(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.password="",e}return a.__extends(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this.tr("titleOfForget")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageDescription",{get:function(){return this.password?this.tr("placeholder.password","register"):"&nbsp;"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldPassword",{get:function(){return this.getTempData.verifiedPassword||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appealToken",{get:function(){return this._safetyAppeal?this._safetyAppeal.appeal_token:""},enumerable:!0,configurable:!0}),e.prototype.created=function(){this.$setTitle("  ")},e.prototype.mounted=function(){if(!this.getTempData.verifiedPassword)return this.$router.replace(p.ROUTE_PASSWORD_VERIFY_MODIFY),!1},e.prototype.passwordInput=function(t){this.password=t},e.prototype.submit=function(){var t=this,e=this,s={password:this.password};"__safety__"!==this.oldPassword?s.old_password=this.oldPassword:this.appealToken&&(s.appeal_token=this.appealToken),this.$toast.showLoading(),this.$api.user.passwordModify(s).then(function(s){var a=s.data.response;t.$toast.hide(),t.setTempData({verifiedPassword:""}),t.$dialog.alert({title:t.tr("texts.modifySuccess"),content:t.tr("tips.modifySuccess2"),maskClosed:!1,buttons:[{text:t.$tr.text.back,type:"primary",click:function(){e.passwordModifiedNotification(a,!0)}}]})}).catch(function(e){e.failure&&t.$toast.show(e.data.meta.msg)})},e.prototype.passwordModifiedNotification=function(t,e){void 0===t&&(t={}),void 0===e&&(e=!1),this.setTempData({isPasswordModified:!0}),this._updateClientSwitchAccountList(t),this._updateAppClientInfoAccessToken(t),(0,i.commandRefreshAccessToken)(t),this.getTempData.isClientDispatch?(this.$accountCommand("Notice",{code:u.NOTICE_PASSWORD_MODIFIED}),this.setTempData({isClientDispatch:!1,isSafetyDispatch:!1})):e&&this.$router.replace(p.ROUTE_ACCOUNT),this.$removeAppBackingHandler()},a.__decorate([(0,r.Component)({data:function(){return{$trPage:"password"}},template:'<page class="password-verify">\n                       <title-bar/>\n                       <page-view padding>\n                           <page-title :title="title" :description="pageDescription" />\n                           <password-setting-view @input="passwordInput"\n                                                  @submit="submit">\n                           </password-setting-view>\n                       </page-view>\n                 </page>',components:{PasswordSettingView:n.default}})],e)}((0,r.Mixins)(o.default));e.default=l}}]);