(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"5T0q":function(t,e,i){"use strict";var n=i("ZPtP");i.n(n).a},"65ec":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page",{staticClass:"page-login-detail",attrs:{"bg-color":!0}},[i("title-bar"),t._v(" "),t.info?i("page-view",[i("page-title",{attrs:{title:t.tr("title"),"bg-white":"",padding:""}}),t._v(" "),i("list",[i("list-item",{attrs:{title:t.tr("text.deviceName"),text:t.info.device_name||t.info.client_model||t.info.os_version}})],1),t._v(" "),i("list",{staticClass:"basic"},[i("list-item",{attrs:{title:t.tr("text.deviceType"),text:t.info.client_model||t.info.os_version,border:"bottom"}}),t._v(" "),i("list-item",{attrs:{title:t.tr("text.deviceLoginTime"),text:t._f("formatDate")(t.info.created_at),border:"bottom"}}),t._v(" "),i("list-item",{attrs:{title:t.tr("text.loginMTApp"),text:t.info.app_name,border:"bottom"}}),t._v(" "),i("list-item",{attrs:{title:t.tr("text.loginLocation"),text:t.info.login_location.location||t.$tr.text.nothing}}),t._v(" "),i("div",{staticClass:"location-ip"},[i("p",[i("small",{staticClass:"text"},[t._v("( "+t._s(t.tr("text.ipAdress"))+"："+t._s(t._f("encodeIp")(t.info.ip))+" )")])]),t._v(" "),i("p",[t.isDanger?i("small",{staticClass:"text-danger"},[t._v(t._s(t.tr("text.notCommonlyArea")))]):t._e()])])],1),t._v(" "),i("div",{staticClass:"interval"},[t.isSafetyDevice&&!t.info.isMe?i("mt-button",{attrs:{type:"primary"},on:{click:t.deleteLog}},[t._v(t._s(t.tr("button.remove")))]):t.isSafetyDevice&&t.info.isMe&&!t.info.isNow?i("mt-button",{attrs:{type:"primary"},on:{click:t.deleteLog}},[t._v(t._s(t.tr("button.removeMe")))]):t.isChecking&&!t.isSafetyDevice?i("mt-button",{attrs:{type:"primary",loading:""}}):i("mt-button",{attrs:{type:"primary"},on:{click:t.goBack}},[t._v(t._s(t.$tr.text.back))])],1)],1):t._e()],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},BeNJ:function(t,e,i){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i("mrSG")),o=i("YKMj"),r=i("9Ess"),s=i("BXJC"),a=u(i("J+9/")),c=i("iFk+"),l=i("9Ess"),f=u(i("lqyy"));function u(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fetched=!1,e.info=null,e.isSafetyDevice=!1,e.isChecking=!0,e}return n.__extends(e,t),e.prototype.created=function(){this.initData()},e.prototype.beforeDestroy=function(){this.isChecking=!0,this.isSafetyDevice=!1},Object.defineProperty(e.prototype,"isDanger",{get:function(){return 1===parseInt(this.info.status,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.tr("text.ipAdress")+"："+(0,l.encodeIp)(this.info.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beforeOfDevice",{get:function(){return this.info.isMe&&!this.info.isNow},enumerable:!0,configurable:!0}),e.prototype.initData=function(){var t=this;if(this.info=t.getTempData.loginLogDetail,!this.info)return t.$router.go(-1),!1;t._safetyRequestCheckCredibilityDevice&&t._safetyRequestCheckCredibilityDevice(null,{handleSafetyError:!1,showSafetyVerifyLoading:!1}).then(function(){t.$toast.hide(),t.isSafetyDevice=!0,t.isChecking=!1,t.fetched=!0}).catch(function(){t.$toast.hide(),t.isSafetyDevice=!1,t.isChecking=!1,t.fetched=!0})},e.prototype.deleteLog=function(){var t=this,e=this.info.device_name||this.info.client_model||this.info.os_version;this.$dialog.confirm({title:this.tr("tips.removeTitle"),content:this.beforeOfDevice?this.tr("tips.removeMeMessage"):this.tr("tips.removeMessage").replace(/{deviceName}/,e).replace(/{app}/,'<span class="text-danger">'+this.info.app_name+"</span>"),buttons:[{text:this.$tr.text.enter,type:"primary",click:function(){t.removeLog()}},{text:this.$tr.text.cancel}]})},e.prototype.removeLog=function(){var t=this,e={id:this.info.id,current:this.info.isMe?1:0,rm_client_id:this.info.client_id,rm_device_id:this.info.device_id};this.$toast.showLoading(),this.$http.post(this.$api.$paths.removeLoginHistory,e).then(function(){t.$toast.hide(),t.replaceTempData({loginLogList:[],loginLogDetail:null,loginLogListScrollTop:0,loginLogNowKey:0}),t.$dialog.confirm({content:'\n                    <span class="text-danger">'+(t.beforeOfDevice?t.tr("tips.removeMeSuccess"):t.tr("tips.removeSuccess"))+"</span>\n                ",buttons:[{text:t.$tr.text.ok,type:"primary",click:function(){t.goBack()}}]})}).catch(function(e){e.data&&e.data.meta?t.$toast.show(e.data.meta.msg):t.$toast.show(t.tr("tips.ajaxError","binding"))})},e.prototype.goBack=function(){this.$router.go(-1)},n.__decorate([(0,o.Component)({components:{List:s.List,ListItem:s.ListItem,MtButton:a.default,Page:c.Page},mixins:[f.default],filters:{encodeIp:l.encodeIp,formatDate:r.formatDate},data:function(){return{$trPage:"loginRecordDetail"}}})],e)}(o.Vue);e.default=p},GvvK:function(t,e,i){"use strict";i.r(e);var n=i("65ec"),o=i("TMUn");for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i("5T0q");var s=i("KHd+"),a=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);a.options.__file="login.detail.vue",e.default=a.exports},TMUn:function(t,e,i){"use strict";i.r(e);var n=i("BeNJ"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=o.a},ZPtP:function(t,e){}}]);