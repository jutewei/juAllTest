(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"+h2U":function(t,i){},IUfD:function(t,i,a){"use strict";a.r(i);var n=a("YBQL"),o=a("bi9m");for(var e in o)"default"!==e&&function(t){a.d(i,t,function(){return o[t]})}(e);a("Lq2W");var s=a("KHd+"),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);r.options.__file="protect.privacy.setting.vue",i.default=r.exports},Lq2W:function(t,i,a){"use strict";var n=a("+h2U");a.n(n).a},NzWR:function(t,i,a){"use strict";i.__esModule=!0;var n=l(a("gDS+")),o=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a]);return i.default=t,i}(a("mrSG")),e=a("YKMj"),s=a("Q+em"),r=l(a("lqyy"));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.privacyData={},i.isEmptied=!0,i.isLogin=!0,i.isAllow=!0,i}return o.__extends(i,t),i.prototype.created=function(){if(!this._isEU||this.$isWeb)return this.$router.go(-1),!1;this.isLogin=(0,s.isLogin)(),this.initData()},i.prototype.initData=function(){var t=this,i=this;i.isAllow=i._getAppClientConfigs("allow_collection"),i.$toast.showLoading(),i.getPrivacyData(function(){i.$accountCommand("Notice",{code:1009,data:{allowCollection:i.isAllow}},function(a){a.data&&(i._setClientInfo(a.data),t.getPrivacyData())})})},i.prototype.getPrivacyData=function(t){var i=this;i.$http.get(i.$api.$paths.getPrivacy,{allow_collection:i.isAllow?1:0}).then(function(a){i.$toast.hide();var n=a.data.response;n&&(i.privacyData=n,i.isEmptied=!n.has_info,i.isLogin&&(i.isAllow=1===n.status,i._setClientInfo({allow_collection:i.isAllow}),t&&t()))}).catch(function(t){t.data&&t.data.meta?i.$toast.show(t.data.meta.msg):i.$toast.show(i.tr("tips.ajaxError","binding"))})},i.prototype.valueFormat=function(t,i){return t&&t.length>20&&(/\.(png|jpe?g|gif|svg)((\?.*)|(!thumb200))?$/i.test(t)||/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?$/.test(t))?'<img class="privacy-setting-avatar" src="'+t+'" alt="avatar">':t||(this.$tr?this.$tr.text.nothing:"")},i.prototype.toggleAllow=function(){var t=this;t.isAllow=!t.isAllow,t._setClientInfo({allow_collection:t.isAllow}),t.$toast.showLoading(),t.$accountCommand("Notice",{code:1009,data:{allowCollection:t.isAllow}},function(i){i.data&&(t._setClientInfo(i.data),t.isLogin?t.$http.post(t.$api.$paths.postPrivacySetting,{status:t.isAllow?1:0}).then(function(){t.getPrivacyData()}).catch(function(i){i.data&&i.data.meta?t.$toast.show(i.data.meta.msg):t.$toast.show(t.tr("tips.ajaxError","binding"))}):t.getPrivacyData())})},i.prototype.clearUserInfo=function(){var t=this;if(this.isEmptied||!this.isLogin)return!1;this.$dialog.confirm({title:this.tr("confirm.title"),content:'<div class="clear-tips text-left">'+this.tr("confirm.message")+"</div>",buttons:[{text:this.$tr.text.enter,type:"primary",click:function(){t.clearSubmit()}},{text:this.$tr.text.cancel}]})},i.prototype.clearSubmit=function(){var t=this;this.isLogin&&!this.isEmptied&&this.$http.post(this.$api.$paths.postDeletePrivacyInfo).then(function(){t.getPrivacyData(function(){t.$accountCommand("Notice",{code:1009,data:{allowCollection:t.isAllow}},function(i){i.data&&(t._setClientInfo(i.data),t.getPrivacyData())})}),t.isEmptied=!0})},i.prototype.isEmptyObj=function(t){return"{}"===(0,n.default)(t)||null==t},o.__decorate([(0,e.Component)({data:function(){return{$trPage:"privacySetting"}}})],i)}((0,e.Mixins)(r.default));i.default=c},YBQL:function(t,i,a){"use strict";var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("page",{staticClass:"page-privacy-setting",attrs:{"bg-color":!0}},[a("title-bar"),t._v(" "),a("page-view",[a("div",{staticClass:"Tips interval",domProps:{textContent:t._s(t.tr("tips"))}}),t._v(" "),t._l(t.privacyData.data,function(i,n){return t.isEmptyObj(i.data)?t._e():a("section",{key:n,staticClass:"privacy-setting-model",class:["privacy-setting-"+n]},[a("h2",{staticClass:"privacy-setting-title",domProps:{textContent:t._s(i.title)}}),t._v(" "),a("ul",{staticClass:"privacy-setting-list"},t._l(i.data,function(i,n){return a("li",{key:n},[a("span",{domProps:{textContent:t._s(i.desc)}}),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.valueFormat(i.value,n))}})])}))])}),t._v(" "),t.privacyData.data?a("div",{staticClass:"privacy-setting-footer"},[a("mt-button",{attrs:{type:"primary"},domProps:{textContent:t._s(t.tr(t.isAllow?"button.prohibit":"button.allow"))},on:{click:t.toggleAllow}}),t._v(" "),a("mt-button",{attrs:{disabled:t.isEmptied||!t.isLogin},domProps:{textContent:t._s(t.tr("button.clear"))},on:{click:t.clearUserInfo}})],1):t._e()],2)],1)},o=[];a.d(i,"a",function(){return n}),a.d(i,"b",function(){return o})},bi9m:function(t,i,a){"use strict";a.r(i);var n=a("NzWR"),o=a.n(n);for(var e in n)"default"!==e&&function(t){a.d(i,t,function(){return n[t]})}(e);i.default=o.a}}]);